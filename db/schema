--
-- PostgreSQL database dump
--

\restrict zYgMgQ1he5IGTqSmqpHFG1hiT79ugRoGxCOH4rE9P8Nee6gEjrgRU9cQkHptsb6

-- Dumped from database version 16.10 (Ubuntu 16.10-0ubuntu0.24.04.1)
-- Dumped by pg_dump version 16.10 (Ubuntu 16.10-0ubuntu0.24.04.1)

-- Started on 2025-10-23 20:25:23 -03

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 216 (class 1255 OID 17834)
-- Name: fn_auth_valida_senha(character varying); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION public.fn_auth_valida_senha(p_usuario character varying) RETURNS TABLE(codigo integer, usuario character varying, senha character varying)
    LANGUAGE plpgsql
    AS $$
BEGIN
    RETURN QUERY
    SELECT tbl.codigo, tbl.usuario, tbl.senha
    FROM tb_cad_usuario tbl
    WHERE tbl.usuario = p_usuario;
END;
$$;


ALTER FUNCTION public.fn_auth_valida_senha(p_usuario character varying) OWNER TO postgres;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 215 (class 1259 OID 17827)
-- Name: tb_cad_usuario; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.tb_cad_usuario (
    codigo integer NOT NULL,
    senha character varying,
    usuario character varying,
    nome character varying,
    adm boolean,
    email character varying,
    telefone character varying
);


ALTER TABLE public.tb_cad_usuario OWNER TO postgres;

--
-- TOC entry 3396 (class 0 OID 17827)
-- Dependencies: 215
-- Data for Name: tb_cad_usuario; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.tb_cad_usuario (codigo, senha, usuario, nome, adm, email, telefone) FROM stdin;
1	$2a$12$i0hvsuffd9/EyEN40nPG3eZh2n28Q6mqp3Gt8EiP.F0GWcQS8Yvay	gabriel	gabriel	t	gabriel@mail	12992025775
\.


--
-- TOC entry 3252 (class 2606 OID 17833)
-- Name: tb_cad_usuario pk_usuario; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tb_cad_usuario
    ADD CONSTRAINT pk_usuario PRIMARY KEY (codigo);


-- Completed on 2025-10-23 20:25:23 -03

--
-- PostgreSQL database dump complete
--

\unrestrict zYgMgQ1he5IGTqSmqpHFG1hiT79ugRoGxCOH4rE9P8Nee6gEjrgRU9cQkHptsb6

